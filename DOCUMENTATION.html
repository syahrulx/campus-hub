<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CampusHub - Project Documentation</title>
    <style>
        @page { size: A4; margin: 1.5cm; }
        @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; font-size: 10pt; line-height: 1.5; color: #333; padding: 20px; max-width: 900px; margin: 0 auto; }
        h1 { font-size: 22pt; color: #dc2626; text-align: center; margin-bottom: 5px; }
        h2 { font-size: 13pt; background: #1e40af; color: white; padding: 6px 12px; margin: 20px 0 10px 0; }
        h3 { font-size: 11pt; color: #166534; margin: 15px 0 8px 0; border-bottom: 2px solid #166534; padding-bottom: 3px; }
        h4 { font-size: 10pt; color: #7c3aed; margin: 10px 0 5px 0; }
        .subtitle { text-align: center; color: #666; margin-bottom: 20px; }
        table { width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 9pt; }
        th, td { border: 1px solid #ccc; padding: 6px 8px; text-align: left; vertical-align: top; }
        th { background: #f3f4f6; font-weight: bold; }
        code { background: #e5e7eb; padding: 1px 4px; border-radius: 3px; font-family: monospace; font-size: 9pt; }
        .component { background: #f9fafb; border: 1px solid #e5e7eb; padding: 10px; margin: 8px 0; border-radius: 4px; }
        .component-name { font-weight: bold; color: #1e40af; font-size: 10pt; }
        .component-desc { margin: 5px 0; }
        .component-detail { font-size: 9pt; color: #555; }
        .flow { background: #eff6ff; padding: 10px; margin: 10px 0; border-left: 4px solid #3b82f6; font-family: monospace; font-size: 9pt; }
        hr { border: none; border-top: 2px solid #e5e7eb; margin: 20px 0; }
        ul { padding-left: 20px; margin: 5px 0; }
        li { margin: 2px 0; }
    </style>
</head>
<body>

<h1>CampusHub - Project Documentation</h1>
<p class="subtitle">Campus Marketplace Web Application | Java EE + JSP + Derby Database<br>CSC584 Enterprise Web Development</p>

<hr>

<h2>1. Project Overview</h2>
<p>CampusHub is a web-based marketplace for campus students to buy and sell products. Built using MVC architecture with Java Servlets, JSP, and Apache Derby database.</p>

<table>
    <tr><th>Component</th><th>Count</th><th>Location</th><th>Purpose</th></tr>
    <tr><td><strong>Bean</strong></td><td>4</td><td><code>com.campushub.bean</code></td><td>Data models representing database entities</td></tr>
    <tr><td><strong>DAO</strong></td><td>7</td><td><code>com.campushub.dao</code></td><td>Database access layer (CRUD operations)</td></tr>
    <tr><td><strong>Servlet</strong></td><td>23</td><td><code>com.campushub.servlet</code></td><td>Controllers handling HTTP requests</td></tr>
    <tr><td><strong>Util</strong></td><td>1</td><td><code>com.campushub.util</code></td><td>Helper utilities (database connection)</td></tr>
    <tr><td><strong>JSP</strong></td><td>31</td><td><code>/web/</code></td><td>Views displaying HTML to users</td></tr>
</table>

<h2>2. MVC Architecture Flow</h2>
<div class="flow">
<strong>REQUEST:</strong> Browser → Servlet (Controller) → DAO (Model) → Database<br>
<strong>RESPONSE:</strong> Database → DAO → Bean Object → Servlet → JSP (View) → Browser
</div>

<hr>

<h2>3. Bean Package</h2>
<p><strong>Package:</strong> <code>com.campushub.bean</code> | <strong>Purpose:</strong> JavaBeans are simple data models (POJOs) with private fields and public getters/setters. They represent database table records.</p>

<div class="component">
    <div class="component-name">User.java</div>
    <div class="component-desc">Represents a user account in the system.</div>
    <div class="component-detail">
        <strong>Fields:</strong> userId, name, email, password, phone, profileImage, createdAt<br>
        <strong>Purpose:</strong> Stores user information for authentication, profile display, and identifying buyers/sellers.<br>
        <strong>Used by:</strong> UserDao (for DB operations), LoginServlet, RegisterServlet, EditProfileServlet
    </div>
</div>

<div class="component">
    <div class="component-name">Product.java</div>
    <div class="component-desc">Represents a product listing in the marketplace.</div>
    <div class="component-detail">
        <strong>Fields:</strong> productId, sellerId, categoryId, name, description, price, condition, status, quantity, imageUrl, listedAt<br>
        <strong>Purpose:</strong> Contains all product information including price, condition (new/used), and availability status.<br>
        <strong>Used by:</strong> ProductDao, ProductServlet, AddProductServlet, CartServlet, SearchServlet
    </div>
</div>

<div class="component">
    <div class="component-name">Cart.java</div>
    <div class="component-desc">Represents a user's shopping cart.</div>
    <div class="component-detail">
        <strong>Fields:</strong> cartId, userId, createdAt<br>
        <strong>Purpose:</strong> Links a user to their cart. Each user has one cart created automatically.<br>
        <strong>Used by:</strong> CartDao
    </div>
</div>

<div class="component">
    <div class="component-name">CartItem.java</div>
    <div class="component-desc">Represents an item added to a cart with product details.</div>
    <div class="component-detail">
        <strong>Fields:</strong> cartItemId, cartId, productId, quantity, productName, productPrice, productImage, subtotal<br>
        <strong>Purpose:</strong> Stores cart items with calculated subtotal. Includes product info for display without extra queries.<br>
        <strong>Used by:</strong> CartDao, CartServlet, CheckoutServlet
    </div>
</div>

<hr>

<h2>4. DAO Package</h2>
<p><strong>Package:</strong> <code>com.campushub.dao</code> | <strong>Purpose:</strong> Data Access Objects handle all database operations using JDBC. They separate database logic from servlets.</p>

<div class="component">
    <div class="component-name">UserDao.java</div>
    <div class="component-desc">Handles all user-related database operations.</div>
    <div class="component-detail">
        <strong>Methods:</strong><br>
        • <code>authenticateUser(email, password)</code> - Verifies login credentials, returns User object if valid<br>
        • <code>registerUser(user)</code> - Inserts new user into database<br>
        • <code>getUserById(id)</code> - Retrieves user by ID<br>
        • <code>getUserByEmail(email)</code> - Retrieves user by email<br>
        • <code>updateUser(user)</code> - Updates user profile information<br>
        • <code>updatePassword(email, password)</code> - Changes user password<br>
        • <code>emailExists(email)</code> - Checks if email is already registered<br>
        <strong>Table:</strong> USERS
    </div>
</div>

<div class="component">
    <div class="component-name">ProductDao.java</div>
    <div class="component-desc">Handles all product listing operations.</div>
    <div class="component-detail">
        <strong>Methods:</strong><br>
        • <code>getAllProducts()</code> - Returns all active products<br>
        • <code>getProductById(id)</code> - Returns single product details<br>
        • <code>getProductsByCategory(categoryId)</code> - Filters products by category<br>
        • <code>getProductsBySeller(sellerId)</code> - Returns seller's listings<br>
        • <code>searchProducts(keyword)</code> - Searches products by name/description<br>
        • <code>addProduct(product)</code> - Creates new product listing<br>
        • <code>updateProduct(product)</code> - Updates existing product<br>
        • <code>deleteProduct(productId)</code> - Removes product listing<br>
        <strong>Table:</strong> PRODUCT
    </div>
</div>

<div class="component">
    <div class="component-name">CategoryDao.java</div>
    <div class="component-desc">Handles product category operations.</div>
    <div class="component-detail">
        <strong>Methods:</strong><br>
        • <code>getAllCategories()</code> - Returns all categories with product counts<br>
        • <code>getCategoryById(id)</code> - Returns single category<br>
        • <code>getCategoryName(id)</code> - Returns category name only<br>
        • <code>getCategoriesForDropdown()</code> - Returns categories for form dropdowns<br>
        <strong>Table:</strong> CATEGORY
    </div>
</div>

<div class="component">
    <div class="component-name">OrderDao.java</div>
    <div class="component-desc">Handles order management operations.</div>
    <div class="component-detail">
        <strong>Methods:</strong><br>
        • <code>getOrdersByBuyer(buyerId)</code> - Returns buyer's purchase history<br>
        • <code>getOrdersBySeller(sellerId)</code> - Returns seller's orders to fulfill<br>
        • <code>getOrderById(orderId)</code> - Returns order details for tracking<br>
        • <code>createOrder(...)</code> - Creates new order after checkout<br>
        • <code>updateOrderStatus(orderId, status)</code> - Updates order status (PENDING/SHIPPED/COMPLETED)<br>
        <strong>Table:</strong> ORDERS
    </div>
</div>

<div class="component">
    <div class="component-name">CartDao.java</div>
    <div class="component-desc">Handles shopping cart operations.</div>
    <div class="component-detail">
        <strong>Methods:</strong><br>
        • <code>getOrCreateCart(userId)</code> - Returns existing cart or creates new one<br>
        • <code>getCartItems(cartId)</code> - Returns all items in cart with product details<br>
        • <code>addToCart(cartId, productId, qty)</code> - Adds product to cart<br>
        • <code>updateCartItemQuantity(itemId, qty)</code> - Updates item quantity<br>
        • <code>removeCartItem(itemId)</code> - Removes item from cart<br>
        • <code>clearCart(cartId)</code> - Empties cart after checkout<br>
        • <code>isOwnProduct(userId, productId)</code> - Prevents buying own products<br>
        <strong>Tables:</strong> CART, CART_ITEM
    </div>
</div>

<div class="component">
    <div class="component-name">MessageDao.java</div>
    <div class="component-desc">Handles chat messaging between users.</div>
    <div class="component-detail">
        <strong>Methods:</strong><br>
        • <code>getConversations(userId)</code> - Returns list of chat threads<br>
        • <code>getMessages(userId, otherUserId, productId)</code> - Returns messages in a conversation<br>
        • <code>sendMessage(...)</code> - Sends new message<br>
        • <code>markAsRead(...)</code> - Marks messages as read<br>
        • <code>deleteConversation(...)</code> - Deletes chat history<br>
        <strong>Table:</strong> MESSAGE
    </div>
</div>

<div class="component">
    <div class="component-name">ReviewDao.java</div>
    <div class="component-desc">Handles seller review operations.</div>
    <div class="component-detail">
        <strong>Methods:</strong><br>
        • <code>getReviewsBySeller(sellerId)</code> - Returns all reviews for a seller<br>
        • <code>addReview(...)</code> - Adds new review after order completion<br>
        • <code>hasReviewedOrder(orderId)</code> - Checks if order already reviewed<br>
        • <code>getAverageRating(sellerId)</code> - Calculates seller's average rating<br>
        <strong>Table:</strong> REVIEW
    </div>
</div>

<hr>

<h2>5. Servlet Package</h2>
<p><strong>Package:</strong> <code>com.campushub.servlet</code> | <strong>Purpose:</strong> Servlets are controllers that handle HTTP requests, process business logic, and forward to JSP views.</p>

<h3>5.1 Authentication Servlets</h3>

<div class="component">
    <div class="component-name">LoginServlet.java <code>/login</code></div>
    <div class="component-desc">Handles user login authentication.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Displays login.jsp form<br>
        <strong>doPost:</strong> Validates credentials using UserDao.authenticateUser(), creates session, redirects to index.jsp<br>
        <strong>Uses:</strong> UserDao → <strong>Forwards to:</strong> login.jsp, index.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">RegisterServlet.java <code>/register</code></div>
    <div class="component-desc">Handles new user registration.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Displays register.jsp form<br>
        <strong>doPost:</strong> Validates input, checks email uniqueness, creates user using UserDao.registerUser()<br>
        <strong>Uses:</strong> UserDao → <strong>Forwards to:</strong> register.jsp, login.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">ForgotPasswordServlet.java <code>/forgotPassword</code></div>
    <div class="component-desc">Handles password reset requests.</div>
    <div class="component-detail">
        <strong>doPost:</strong> Generates temporary password, updates via UserDao.updatePassword()<br>
        <strong>Uses:</strong> UserDao → <strong>Forwards to:</strong> forgotPassword.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">LogoutServlet.java <code>/logout</code></div>
    <div class="component-desc">Handles user logout.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Invalidates session, redirects to login.jsp<br>
        <strong>Uses:</strong> None → <strong>Redirects to:</strong> login.jsp
    </div>
</div>

<h3>5.2 Product Servlets</h3>

<div class="component">
    <div class="component-name">ProductServlet.java <code>/products</code></div>
    <div class="component-desc">Lists all products or filters by category.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Fetches products using ProductDao.getAllProducts() or getProductsByCategory()<br>
        <strong>Uses:</strong> ProductDao, CategoryDao → <strong>Forwards to:</strong> viewProducts.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">ProductDetailServlet.java <code>/product</code></div>
    <div class="component-desc">Shows single product details.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Fetches product by ID using ProductDao.getProductById()<br>
        <strong>Uses:</strong> ProductDao → <strong>Forwards to:</strong> productDetail.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">SearchServlet.java <code>/search</code></div>
    <div class="component-desc">Searches products by keyword.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Searches using ProductDao.searchProducts(keyword)<br>
        <strong>Uses:</strong> ProductDao → <strong>Forwards to:</strong> searchResults.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">CategoryServlet.java <code>/categories</code></div>
    <div class="component-desc">Lists all product categories.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Fetches categories with counts using CategoryDao.getAllCategories()<br>
        <strong>Uses:</strong> CategoryDao → <strong>Forwards to:</strong> categories.jsp
    </div>
</div>

<h3>5.3 Cart & Checkout Servlets</h3>

<div class="component">
    <div class="component-name">CartServlet.java <code>/cart</code></div>
    <div class="component-desc">Manages shopping cart operations.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Displays cart items using CartDao.getCartItems()<br>
        <strong>doPost:</strong> Handles add/update/remove actions<br>
        <strong>Uses:</strong> CartDao, ProductDao → <strong>Forwards to:</strong> cartDetails.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">PaymentServlet.java <code>/payment</code></div>
    <div class="component-desc">Handles payment method selection.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Shows payment options<br>
        <strong>doPost:</strong> Processes payment selection, shows processing animation<br>
        <strong>Uses:</strong> None → <strong>Forwards to:</strong> payment.jsp, paymentProcessing.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">CheckoutServlet.java <code>/checkout</code></div>
    <div class="component-desc">Completes purchase and creates orders.</div>
    <div class="component-detail">
        <strong>doPost:</strong> Creates orders for each cart item, updates product status, clears cart<br>
        <strong>Uses:</strong> CartDao, OrderDao, ProductDao → <strong>Forwards to:</strong> orderSuccess.jsp
    </div>
</div>

<h3>5.4 Order Servlets</h3>

<div class="component">
    <div class="component-name">OrderServlet.java <code>/orders</code></div>
    <div class="component-desc">Lists buyer's purchase history.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Fetches orders using OrderDao.getOrdersByBuyer()<br>
        <strong>Uses:</strong> OrderDao → <strong>Forwards to:</strong> orderDetails.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">OrderDetailServlet.java <code>/orderDetail</code></div>
    <div class="component-desc">Shows order tracking details.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Fetches order details using OrderDao.getOrderById()<br>
        <strong>Uses:</strong> OrderDao → <strong>Forwards to:</strong> orderTracking.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">SellerOrdersServlet.java <code>/sellerOrders</code></div>
    <div class="component-desc">Lists orders for seller to fulfill.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Fetches orders using OrderDao.getOrdersBySeller()<br>
        <strong>doPost:</strong> Updates order status (ship/complete)<br>
        <strong>Uses:</strong> OrderDao → <strong>Forwards to:</strong> sellerOrders.jsp
    </div>
</div>

<h3>5.5 Seller Listing Servlets</h3>

<div class="component">
    <div class="component-name">SellerListingsServlet.java <code>/sellerListings</code></div>
    <div class="component-desc">Shows seller's product dashboard.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Fetches seller's products and stats<br>
        <strong>Uses:</strong> ProductDao → <strong>Forwards to:</strong> sellerListings.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">AddProductServlet.java <code>/addProduct</code></div>
    <div class="component-desc">Creates new product listing.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Shows add product form with categories<br>
        <strong>doPost:</strong> Processes form, handles image upload, creates product<br>
        <strong>Uses:</strong> ProductDao, CategoryDao → <strong>Forwards to:</strong> addProduct.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">EditProductServlet.java <code>/editProduct</code></div>
    <div class="component-desc">Edits existing product listing.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Shows edit form with current data<br>
        <strong>doPost:</strong> Updates product details<br>
        <strong>Uses:</strong> ProductDao, CategoryDao → <strong>Forwards to:</strong> editProduct.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">RemoveProductServlet.java <code>/removeProduct</code></div>
    <div class="component-desc">Deletes product listing.</div>
    <div class="component-detail">
        <strong>doPost:</strong> Deletes product using ProductDao.deleteProduct()<br>
        <strong>Uses:</strong> ProductDao → <strong>Redirects to:</strong> sellerListings
    </div>
</div>

<h3>5.6 User Profile Servlets</h3>

<div class="component">
    <div class="component-name">UserProfileServlet.java <code>/profile</code></div>
    <div class="component-desc">Displays user profile page.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Fetches user data from session<br>
        <strong>Uses:</strong> UserDao → <strong>Forwards to:</strong> userProfile.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">EditProfileServlet.java <code>/editProfile</code></div>
    <div class="component-desc">Edits user profile.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Shows edit form with current data<br>
        <strong>doPost:</strong> Updates profile using UserDao.updateUser()<br>
        <strong>Uses:</strong> UserDao → <strong>Forwards to:</strong> editProfile.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">SellerProfileServlet.java <code>/seller</code></div>
    <div class="component-desc">Shows seller's public profile.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Fetches seller info, products, and reviews<br>
        <strong>Uses:</strong> UserDao, ProductDao, ReviewDao → <strong>Forwards to:</strong> sellerProfile.jsp
    </div>
</div>

<h3>5.7 Communication Servlets</h3>

<div class="component">
    <div class="component-name">MessageServlet.java <code>/messages</code></div>
    <div class="component-desc">Handles chat messaging.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Loads conversations and messages<br>
        <strong>doPost:</strong> Sends message or deletes conversation<br>
        <strong>Uses:</strong> MessageDao → <strong>Forwards to:</strong> messages.jsp
    </div>
</div>

<div class="component">
    <div class="component-name">ReviewServlet.java <code>/review</code></div>
    <div class="component-desc">Handles seller reviews.</div>
    <div class="component-detail">
        <strong>doGet:</strong> Shows review form<br>
        <strong>doPost:</strong> Submits review using ReviewDao.addReview()<br>
        <strong>Uses:</strong> ReviewDao, OrderDao → <strong>Forwards to:</strong> review.jsp
    </div>
</div>

<hr>

<h2>6. Util Package</h2>
<p><strong>Package:</strong> <code>com.campushub.util</code></p>

<div class="component">
    <div class="component-name">DatabaseHelper.java</div>
    <div class="component-desc">Provides database connection to all DAOs.</div>
    <div class="component-detail">
        <strong>Methods:</strong><br>
        • <code>getConnection()</code> - Returns JDBC connection to Derby database<br>
        • <code>count(sql, params)</code> - Executes COUNT queries<br>
        • <code>sum(sql, params)</code> - Executes SUM queries<br><br>
        <strong>Connection Details:</strong><br>
        URL: <code>jdbc:derby://localhost:1527/campus_db</code><br>
        User: <code>app</code> | Password: <code>app</code>
    </div>
</div>

<hr>

<h2>7. JSP Pages</h2>
<p><strong>Location:</strong> <code>/web/</code> | <strong>Purpose:</strong> JSP files are views that display HTML with dynamic data from servlets using JSTL tags.</p>

<table>
    <tr><th>Category</th><th>JSP File</th><th>Purpose</th><th>Receives from Servlet</th></tr>
    <tr><td rowspan="2">Layout</td><td>header.jsp</td><td>Navigation bar, notifications, included in all pages</td><td>Session data</td></tr>
    <tr><td>footer.jsp</td><td>Footer section</td><td>None</td></tr>
    <tr><td rowspan="3">Auth</td><td>login.jsp</td><td>Login form</td><td>Error messages</td></tr>
    <tr><td>register.jsp</td><td>Registration form</td><td>Error messages</td></tr>
    <tr><td>forgotPassword.jsp</td><td>Password reset form</td><td>Success/error messages</td></tr>
    <tr><td rowspan="4">Products</td><td>viewProducts.jsp</td><td>Product grid listing</td><td>products list, categories</td></tr>
    <tr><td>productDetail.jsp</td><td>Single product view with add to cart</td><td>product object</td></tr>
    <tr><td>searchResults.jsp</td><td>Search results</td><td>products list, query</td></tr>
    <tr><td>categories.jsp</td><td>Category cards</td><td>categories list</td></tr>
    <tr><td rowspan="4">Cart</td><td>cartDetails.jsp</td><td>Shopping cart with items</td><td>cartItems list, total</td></tr>
    <tr><td>payment.jsp</td><td>Payment method selection</td><td>Cart total</td></tr>
    <tr><td>paymentProcessing.jsp</td><td>Payment animation</td><td>Payment method</td></tr>
    <tr><td>orderSuccess.jsp</td><td>Order confirmation</td><td>Order details</td></tr>
    <tr><td rowspan="2">Orders</td><td>orderDetails.jsp</td><td>Buyer's order list</td><td>orders list</td></tr>
    <tr><td>orderTracking.jsp</td><td>Order status timeline</td><td>order object</td></tr>
    <tr><td rowspan="4">Seller</td><td>sellerListings.jsp</td><td>Seller dashboard</td><td>products, stats</td></tr>
    <tr><td>sellerOrders.jsp</td><td>Orders to fulfill</td><td>orders list</td></tr>
    <tr><td>addProduct.jsp</td><td>Add product form</td><td>categories</td></tr>
    <tr><td>editProduct.jsp</td><td>Edit product form</td><td>product, categories</td></tr>
    <tr><td rowspan="4">User</td><td>userProfile.jsp</td><td>User profile page</td><td>user object</td></tr>
    <tr><td>editProfile.jsp</td><td>Edit profile form</td><td>user object</td></tr>
    <tr><td>messages.jsp</td><td>Chat inbox</td><td>conversations, messages</td></tr>
    <tr><td>sellerProfile.jsp</td><td>Public seller page</td><td>seller, products, reviews</td></tr>
</table>

<hr>

<h2>8. Database Schema</h2>
<table>
    <tr><th>Table</th><th>Primary Key</th><th>Foreign Keys</th><th>Purpose</th></tr>
    <tr><td>USERS</td><td>user_id</td><td>-</td><td>User accounts</td></tr>
    <tr><td>CATEGORY</td><td>category_id</td><td>-</td><td>Product categories</td></tr>
    <tr><td>PRODUCT</td><td>product_id</td><td>seller_id → USERS, category_id → CATEGORY</td><td>Product listings</td></tr>
    <tr><td>CART</td><td>cart_id</td><td>user_id → USERS</td><td>Shopping carts</td></tr>
    <tr><td>CART_ITEM</td><td>cart_item_id</td><td>cart_id → CART, product_id → PRODUCT</td><td>Items in cart</td></tr>
    <tr><td>ORDERS</td><td>order_id</td><td>product_id, buyer_id, seller_id</td><td>Purchase orders</td></tr>
    <tr><td>MESSAGE</td><td>message_id</td><td>sender_id, receiver_id, product_id</td><td>Chat messages</td></tr>
    <tr><td>REVIEW</td><td>review_id</td><td>order_id, reviewer_id, seller_id</td><td>Seller reviews</td></tr>
</table>

<hr>
<p style="text-align: center; color: #666; font-size: 9pt;">
    <strong>CampusHub</strong> | CSC584 Enterprise Web Development | 2026<br>
    Tech Stack: Java EE 8 • JSP/JSTL • Apache Derby • GlassFish 5 • Tailwind CSS
</p>

</body>
</html>
